<div class="navbar navbar-expand-sm bg-secondary navbar-dark fixed-top">
  <span class="navbar-brand ms-3">
    <h3>COMNIBUS</h3>
  </span>
  <ul class="navbar-nav">
    <li class="nav-item" *ngIf="!isLoggedIn">
      <a class="nav-link" [routerLink]="['/home']">Home</a>
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a class="nav-link" [routerLink]="['/feed']">Home</a>
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a class="nav-link" [routerLink]="['/thoughts']">Thoughts</a>
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a class="nav-link" [routerLink]="['/recommendations']">Recommendations</a>
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a class="nav-link" [routerLink]="['/users']">Users</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/books']">Books</a>
    </li>
    <li class="nav-item" *ngIf="isAdmin">
      <a class="nav-link" [routerLink]="['/requests']">Requests</a>
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a class="nav-link" [routerLink]="['/add-requests']">Request A Book</a>
    </li>
    <li class="nav-item" *ngIf="isLoggedIn">
      <a class="nav-link" [routerLink]="['/inbox']">
        <img [src]="hasUnreadMessages ? '/images/inbox_unread.png' : '/images/inbox.png'"
             style="width: 30px; height: 30px;">
      </a>
    </li>
    <li class="nav-item" *ngIf="!isLoggedIn">
      <a class="btn btn-outline-light ms-auto" [routerLink]="['/signup']" type="button">Sign Up</a>
    </li>
    <ng-template #showLogin>
      <button class="btn btn-outline-light ms-auto" [routerLink]="['/login']" type="button">Login</button>
    </ng-template>
    <ng-container *ngIf="isLoggedIn; else showLogin">
      <button class="btn btn-outline-light ms-auto" (click)="toggleLogin()" type="button">Logout</button>
    </ng-container>
  </ul>
  <div class="nav-item align-items-center ms-auto" *ngIf="isLoggedIn" style="margin-right: 15px;">
    <button class="btn btn-outline-light ms-auto p-0" [routerLink]="['/profile']" style="border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
      <img [src]="profilePicUrl" alt="Profile" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
    </button>
  </div>
</div>
